const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index--JlyGqTV.js","assets/react-igPjiDWs.js","assets/OverviewPage-iTDTCtEx.js","assets/customerService-D3igDjQn.js","assets/charts-CF39Kqye.js","assets/format-DFPXa_FT.js","assets/schemas-BZNeO2np.js","assets/dashboardService-DNP3qVFN.js","assets/AnalyticsPage-Bw9UMqLR.js","assets/CustomersPage-BXarmBqK.js","assets/SettingsPage-BI7Yro6V.js","assets/NotFoundPage-DBNoTBBr.js"])))=>i.map(i=>d[i]);
import{a as D,r as d,j as t,Q as B,b as M,u as F,i as U,L as V,N as _,O as z,d as q,e as $,f as K}from"./react-igPjiDWs.js";import{c as b}from"./charts-CF39Kqye.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Q="modulepreload",W=function(e){return"/"+e},S={},p=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){let f=function(l){return Promise.all(l.map(x=>Promise.resolve(x).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=f(n.map(l=>{if(l=W(l),l in S)return;S[l]=!0;const x=l.endsWith(".css"),h=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const m=document.createElement("link");if(m.rel=x?"stylesheet":Q,x||(m.as="script"),m.crossOrigin="",m.href=l,c&&m.setAttribute("nonce",c),document.head.appendChild(m),x)return new Promise((I,k)=>{m.addEventListener("load",I),m.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};var v={},P;function Y(){if(P)return v;P=1;var e=D();return v.createRoot=e.createRoot,v.hydrateRoot=e.hydrateRoot,v}var H=Y();let C;const J=async()=>(C??=p(()=>import("./index--JlyGqTV.js"),__vite__mapDeps([0,1])),C),G=()=>!1,X=async()=>{},Z=async(e,r)=>{try{(await J()).captureException(e,{extra:r})}catch{console.error("Application error",{error:e,context:r})}},E=(e,r={})=>{if(G()){Z(e,r);return}console.error("Application error",{error:e,context:r})};class ee extends d.Component{state={hasError:!1};static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,n){E(r,{source:"AppErrorBoundary",componentStack:n.componentStack})}render(){return this.state.hasError?t.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl items-center justify-center px-6",children:t.jsxs("div",{className:"rounded-2xl border border-danger/30 bg-danger/10 p-8 text-center",children:[t.jsx("h1",{className:"font-display text-2xl font-semibold",children:"Unexpected error"}),t.jsx("p",{className:"mt-3 text-sm text-muted",children:"The app hit an unexpected state. Refresh the page to continue."})]})}):this.props.children}}const te=()=>new B({defaultOptions:{queries:{retry:1,staleTime:1e3*60,refetchOnWindowFocus:!1},mutations:{retry:1}}}),T="ui:theme",O="ui:density",L="ui:sidebarCollapsed",N=e=>typeof window>"u"?null:window.localStorage.getItem(e),w=(e,r)=>{typeof window>"u"||window.localStorage.setItem(e,r)},re=(e,r=!1)=>{const n=N(e);return n===null?r:n==="true"},A=d.createContext(void 0),ne=e=>e==="sunrise"||e==="midnight",se=e=>e==="comfortable"||e==="compact",oe=()=>{const e=N(T);return ne(e)?e:"sunrise"},ae=()=>{const e=N(O);return se(e)?e:"comfortable"},ie=({children:e})=>{const[r,n]=d.useState(()=>oe()),[a,s]=d.useState(()=>ae()),[o,i]=d.useState(()=>re(L));d.useEffect(()=>{document.documentElement.dataset.theme=r,w(T,r)},[r]),d.useEffect(()=>{document.documentElement.dataset.density=a,w(O,a)},[a]),d.useEffect(()=>{w(L,String(o))},[o]);const c=d.useCallback(()=>{i(l=>!l)},[]),f=d.useMemo(()=>({theme:r,density:a,sidebarCollapsed:o,setTheme:n,setDensity:s,setSidebarCollapsed:i,toggleSidebar:c}),[a,o,r,c]);return t.jsx(A.Provider,{value:f,children:e})},ce=()=>{const e=d.useContext(A);if(!e)throw new Error("useUiPreferences must be used within UiPreferencesProvider");return e},le=({children:e,queryClient:r})=>{const[n]=d.useState(()=>r??te());return t.jsx(M,{client:n,children:t.jsx(ie,{children:e})})},de=()=>{const e=F();d.useEffect(()=>{E(e,{source:"RouteErrorBoundary"})},[e]);const r=U(e)?`${e.status} ${e.statusText}`:"Something went wrong while loading this route.";return t.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl items-center justify-center px-6",children:t.jsxs("div",{className:"rounded-2xl border border-danger/30 bg-danger/10 p-8",children:[t.jsx("h1",{className:"font-display text-2xl font-semibold",children:"Route error"}),t.jsx("p",{className:"mt-3 text-sm text-muted",children:r}),t.jsx(V,{to:"/overview",className:"mt-5 inline-flex rounded-lg bg-accent px-4 py-2 text-sm font-medium text-surface",children:"Back to overview"})]})})},u={overview:async()=>({Component:(await p(()=>import("./OverviewPage-iTDTCtEx.js"),__vite__mapDeps([2,1,3,4,5,6,7]))).OverviewPage}),analytics:async()=>({Component:(await p(()=>import("./AnalyticsPage-Bw9UMqLR.js"),__vite__mapDeps([8,1,6,7,5,4]))).AnalyticsPage}),customers:async()=>({Component:(await p(()=>import("./CustomersPage-BXarmBqK.js"),__vite__mapDeps([9,1,3,4,5,6]))).CustomersPage}),settings:async()=>({Component:(await p(()=>import("./SettingsPage-BI7Yro6V.js"),__vite__mapDeps([10,1,6,4]))).SettingsPage}),notFound:async()=>({Component:(await p(()=>import("./NotFoundPage-DBNoTBBr.js"),__vite__mapDeps([11,1]))).NotFoundPage})},y={overview:u.overview,analytics:u.analytics,customers:u.customers,settings:u.settings,notFound:u.notFound},ue={"/overview":async()=>{await u.overview()},"/analytics":async()=>{await u.analytics()},"/customers":async()=>{await u.customers()},"/settings":async()=>{await u.settings()}},j=e=>{const r=ue[e];r&&r()},me=new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(new Date),pe=()=>t.jsxs("header",{className:"mb-6 flex flex-col justify-between gap-4 border-b border-border/70 pb-5 md:flex-row md:items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted",children:"Ops Control"}),t.jsx("h1",{className:"font-display text-2xl font-bold",children:"Velocity Dashboard"})]}),t.jsxs("div",{className:"flex flex-col items-start gap-3 sm:flex-row sm:items-center",children:[t.jsx("p",{className:"text-xs text-muted",children:me}),t.jsx("button",{type:"button",className:"rounded-lg bg-accent px-4 py-2 text-sm font-semibold text-surface",children:"New report"})]})]}),R=[{to:"/overview",label:"Overview",caption:"Pulse and baseline"},{to:"/analytics",label:"Analytics",caption:"Trend deep-dive"},{to:"/customers",label:"Customers",caption:"Pipeline and health"},{to:"/settings",label:"Settings",caption:"Workspace controls"}],xe=()=>{const{sidebarCollapsed:e,toggleSidebar:r}=ce();return t.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-surface text-text",children:[t.jsx("a",{href:"#main-content",className:"skip-link absolute left-4 top-4 z-50 -translate-y-16 rounded-md bg-accent px-3 py-2 text-sm font-semibold text-surface focus:translate-y-0",children:"Skip to main content"}),t.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(circle_at_10%_15%,hsla(19,88%,56%,0.2),transparent_40%),radial-gradient(circle_at_85%_0%,hsla(187,72%,44%,0.22),transparent_35%),linear-gradient(180deg,transparent_0%,hsla(210,40%,98%,0.65)_100%)]"}),t.jsxs("div",{className:"mx-auto flex w-full max-w-[1400px] gap-4 px-4 py-4 sm:px-6 lg:px-8",children:[t.jsxs("aside",{className:b("sticky top-4 hidden h-[calc(100vh-2rem)] shrink-0 rounded-3xl border border-border/70 bg-panel/80 p-4 shadow-card backdrop-blur md:flex md:flex-col",e?"w-20":"w-72"),"aria-label":"Sidebar",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:b("overflow-hidden transition-all",e&&"w-0 opacity-0"),children:[t.jsx("p",{className:"font-display text-lg font-semibold",children:"Vertex Ops"}),t.jsx("p",{className:"text-xs text-muted",children:"Command Surface"})]}),t.jsx("button",{type:"button",onClick:r,className:"rounded-lg border border-border bg-surface px-2 py-1 text-xs","aria-label":"Toggle sidebar",children:e?">":"<"})]}),t.jsx("nav",{"aria-label":"Main navigation",className:"flex flex-1 flex-col gap-2",children:R.map(n=>t.jsxs(_,{to:n.to,onMouseEnter:()=>{j(n.to)},onFocus:()=>{j(n.to)},className:({isActive:a})=>b("rounded-xl border px-3 py-2 transition",a?"border-accent/70 bg-accent/15":"border-transparent hover:border-border hover:bg-surface/60"),children:[t.jsx("p",{className:b("text-sm font-semibold",e&&"text-center"),children:e?n.label.slice(0,1):n.label}),e?null:t.jsx("p",{className:"text-xs text-muted",children:n.caption})]},n.to))}),e?null:t.jsxs("section",{className:"mt-auto rounded-2xl border border-border/70 bg-surface/80 p-3",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.12em] text-muted",children:"Status"}),t.jsx("p",{className:"mt-2 text-sm font-medium",children:"All systems stable"}),t.jsx("p",{className:"text-xs text-muted",children:"Mock backend healthy"})]})]}),t.jsxs("div",{className:"min-h-[calc(100vh-2rem)] flex-1 rounded-3xl border border-border/70 bg-panel/85 p-4 shadow-card backdrop-blur-sm sm:p-6",children:[t.jsx("nav",{"aria-label":"Mobile navigation",className:"mb-4 flex gap-2 overflow-x-auto pb-1 md:hidden",children:R.map(n=>t.jsx(_,{to:n.to,onTouchStart:()=>{j(n.to)},className:({isActive:a})=>b("whitespace-nowrap rounded-lg border px-3 py-2 text-sm font-medium transition",a?"border-accent/70 bg-accent/15 text-text":"border-border bg-surface/70 text-muted hover:text-text"),children:n.label},n.to))}),t.jsx(pe,{}),t.jsx("main",{id:"main-content",className:"space-y-6",tabIndex:-1,children:t.jsx(z,{})})]})]})]})},fe=[{path:"/",element:t.jsx(xe,{}),errorElement:t.jsx(de,{}),children:[{index:!0,element:t.jsx($,{to:"/overview",replace:!0})},{path:"overview",lazy:y.overview},{path:"analytics",lazy:y.analytics},{path:"customers",lazy:y.customers},{path:"settings",lazy:y.settings},{path:"*",lazy:y.notFound}]}],he=q(fe),be=({message:e="Loading data..."})=>t.jsxs("div",{className:"flex min-h-[14rem] flex-col items-center justify-center gap-4 rounded-2xl border border-border/70 bg-surface/60 p-8",children:[t.jsx("div",{className:"h-9 w-9 animate-spin rounded-full border-2 border-border border-t-accent","aria-hidden":"true"}),t.jsx("p",{className:"text-sm text-muted",children:e})]}),ye=()=>t.jsx(ee,{children:t.jsx(le,{children:t.jsx(K,{router:he,fallbackElement:t.jsx(be,{message:"Starting dashboard..."})})})}),ge=()=>"/api/web-vitals",ve=(e,r)=>{const n=JSON.stringify(r);if(typeof navigator.sendBeacon=="function"){const a=new Blob([n],{type:"application/json"});navigator.sendBeacon(e,a);return}fetch(e,{method:"POST",body:n,headers:{"Content-Type":"application/json"},keepalive:!0}).catch(()=>{})},g=e=>{if(typeof window>"u"||typeof navigator>"u")return;const r=ge();ve(r,{name:e.name,value:e.value,rating:e.rating,delta:e.delta,id:e.id,path:window.location.pathname,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})},we=async()=>{if(typeof window>"u")return;const{onCLS:e,onINP:r,onLCP:n,onFCP:a,onTTFB:s}=await p(async()=>{const{onCLS:o,onINP:i,onLCP:c,onFCP:f,onTTFB:l}=await import("./web-vitals-B8qOYpeS.js");return{onCLS:o,onINP:i,onLCP:c,onFCP:f,onTTFB:l}},[]);e(g),r(g),n(g),a(g),s(g)},je=async()=>{};X();je().then(()=>{H.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(ye,{})})),we()}).catch(e=>{E(e,{source:"startup"})});export{be as L,ce as u};
